{"version":3,"sources":["utils/Utils.js","components/MusicalClock/MusicalClock.js","utils/Constants.js","App.js","index.js"],"names":["mod","n","m","mapVertex","note","windowWidth","windowHeight","MusicalClock","this","props","linePoints","triad","v1","v2","v3","calculateLinePoints","width","height","x","y","sides","radius","stroke","strokeWidth","text","fontSize","points","React","Component","C_MAJOR_TRIAD","App","componentDidMount","window","addEventListener","handleResize","componentWillUnmount","removeEventListener","setState","innerWidth","innerHeight","handleTranspose","state","transposition","transpositionVal","parseInt","newTriad","map","handleInversion","inversion","inversionVal","Container","className","Row","Col","Form","Group","controlId","Label","Control","type","value","onChange","e","target","Button","variant","onClick","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c082ed38.chunk.js","sourcesContent":["// weird javascript modulo bug https://stackoverflow.com/questions/4467539/javascript-modulo-gives-a-negative-result-for-negative-numbers\nexport const mod = (n, m) => {\n  return ((n % m) + m) % m;\n}\n\nexport const calculateLinePoints = (triad, windowWidth, windowHeight) => {\n  const v1 = mapVertex(triad[0], windowWidth, windowHeight);\n  const v2 = mapVertex(triad[1], windowWidth, windowHeight);\n  const v3 = mapVertex(triad[2], windowWidth, windowHeight);\n  return [...v1, ...v2, ...v3, ...v1];\n};\n\nconst mapVertex = (note, windowWidth, windowHeight) => {\n  switch (note) {\n    case 0:\n      return [windowWidth/6, windowHeight/3 - 195];\n    case 1:\n      return [windowWidth/6 + 100, windowHeight/3 - 170];\n    case 2: \n      return [windowWidth/6 + 170, windowHeight/3 - 100];\n    case 3: \n      return [windowWidth/6 + 195, windowHeight/3];\n    case 4: \n      return [windowWidth/6 + 170, windowHeight/3 + 100];\n    case 5: \n      return [windowWidth/6 + 100, windowHeight/3 + 170];\n    case 6: \n      return [windowWidth/6, windowHeight/3 + 195];\n    case 7: \n      return [windowWidth/6 - 100, windowHeight/3 + 170];\n    case 8: \n      return [windowWidth/6 - 170, windowHeight/3 + 100];\n    case 9: \n      return [windowWidth/6 - 195, windowHeight/3];\n    case 10: \n      return [windowWidth/6 - 170, windowHeight/3 - 100];\n    case 11: \n      return [windowWidth/6 - 100, windowHeight/3 - 170];\n  }\n};\n","import React from 'react';\nimport { \n  Stage, \n  Layer, \n  RegularPolygon, \n  Line,\n  Label, \n  Text \n} from 'react-konva';\nimport { calculateLinePoints } from '../../utils/Utils';\n\nclass MusicalClock extends React.Component {\n\n  render() {\n    const {\n      windowWidth,\n      windowHeight,\n      triad,\n    } = this.props;\n    const linePoints = calculateLinePoints(triad, windowWidth, windowHeight);\n    return (\n      <Stage width={1000} height={1000}>\n        <Layer>\n          <RegularPolygon\n            x={windowWidth/6}\n            y={windowHeight/3}\n            sides={12}\n            radius={200}\n            stroke='black'\n            strokeWidth={2}\n          />\n          <Label\n            x={windowWidth/6 - 5}\n            y={windowHeight/3 - 230}\n          >\n            <Text text=\"C\" fontSize={20}/>\n          </Label>\n          <Label\n            x={windowWidth/6 + 95}\n            y={windowHeight/3 - 200}\n          >\n            <Text text=\"C#\" fontSize={20}/>\n          </Label>\n          <Label\n            x={windowWidth/6 + 175}\n            y={windowHeight/3 - 130}\n          >\n            <Text text=\"D\" fontSize={20}/>\n          </Label>\n          <Label\n            x={windowWidth/6 + 210}\n            y={windowHeight/3 - 10}\n          >\n            <Text text=\"D#\" fontSize={20}/>\n          </Label>\n          <Label\n            x={windowWidth/6 + 175}\n            y={windowHeight/3 + 110}\n          >\n            <Text text=\"E\" fontSize={20}/>\n          </Label>\n          <Label\n            x={windowWidth/6 + 100}\n            y={windowHeight/3 + 185}\n          >\n            <Text text=\"F\" fontSize={20}/>\n          </Label>\n          <Label\n            x={windowWidth/6 - 5}\n            y={windowHeight/3 + 210}\n          >\n            <Text text=\"F#\" fontSize={20}/>\n          </Label>\n          <Label\n            x={windowWidth/6 - 110}\n            y={windowHeight/3 + 185}\n          >\n            <Text text=\"G\" fontSize={20}/>\n          </Label>\n          <Label\n            x={windowWidth/6 - 190}\n            y={windowHeight/3 + 115}\n          >\n            <Text text=\"A♭\" fontSize={20}/>\n          </Label>\n          <Label\n            x={windowWidth/6 - 235}\n            y={windowHeight/3 - 10}\n          >\n            <Text text=\"A\" fontSize={20}/>\n          </Label>\n          <Label\n            x={windowWidth/6 - 210}\n            y={windowHeight/3 - 120}\n          >\n            <Text text=\"B♭\" fontSize={20}/>\n          </Label>\n          <Label\n            x={windowWidth/6 - 130}\n            y={windowHeight/3 - 200}\n          >\n            <Text text=\"B♭\" fontSize={20}/>\n          </Label>\n          <Line points={linePoints} strokeWidth={3} stroke=\"red\"/>\n        </Layer>\n      </Stage>\n    );\n  }\n}\n\nexport default MusicalClock;\n","const C = 0;\nconst C_SHARP = 1;\nconst D = 2;\nconst D_SHARP = 3;\nconst E = 4;\nconst F = 5;\nconst F_SHARP = 6;\nconst G = 7;\nconst A_FLAT = 8;\nconst A = 9;\nconst B_FLAT = 10;\nconst B = 11;\n\nexport const C_VERTEX = [280, 105];\nexport const E_VERTEX = [455, 405];\nexport const G_VERTEX = [180, 475];\n\nexport const VERTEX_MAPPING = [\n  [280, 105],\n  [380, 135],\n  [450, 205],\n  [480, 305],\n  [455, 405],\n  [380, 480],\n  [280, 505],\n  [180, 475],\n  [105, 405],\n  [80, 305],\n  [105, 205],\n  [180, 135],\n];\n\nexport const MAJOR_TRIADS_MAPPING = [\n  [0, 4, 7],\n  [1, 5, 8],\n  [2, 6, 9],\n  [3, 7, 10],\n  [4, 8, 11],\n  [5, 9, 0],\n  [6, 10, 1],\n  [7, 11, 2],\n  [8, 0, 3],\n  [9, 1, 4],\n  [10, 2, 5],\n  [11, 3, 6],\n];\n\nexport const C_MAJOR_TRIAD = [0, 4, 7];\n","import React from 'react';\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Button from 'react-bootstrap/Button';\nimport Form from 'react-bootstrap/Form';\nimport MusicalClock from'./components/MusicalClock/MusicalClock';\nimport { C_MAJOR_TRIAD } from './utils/Constants';\nimport { mod } from './utils/Utils';\nimport './App.css';\n\nclass App extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      windowWidth: window.innerWidth,\n      windowHeight: window.innerHeight,\n      triad: C_MAJOR_TRIAD,\n      transposition: 0,\n      inversion: 0,\n    };\n  }\n\n  componentDidMount = () => {\n    window.addEventListener('resize', this.handleResize);\n  }\n\n  componentWillUnmount = () => {\n    window.removeEventListener('resize', this.handleResize);\n  }\n  \n  handleResize = () => {\n    this.setState({ windowWidth: window.innerWidth, windowHeight: window.innerHeight });\n  }\n\n  handleTranspose = () => {\n    const { triad, transposition } = this.state;\n    const transpositionVal = mod(parseInt(transposition), 12);\n    const newTriad = triad.map(note => (note + transpositionVal) % 12);\n    this.setState({ triad: newTriad });\n  }\n\n  handleInversion = () => {\n    const { triad, inversion } = this.state;\n    const inversionVal = mod(parseInt(inversion), 12);\n    const newTriad = triad.map(note =>  mod(-1*note + inversionVal, 12));\n    this.setState({ triad: newTriad });\n  }\n\n  render() {\n    const {\n      windowWidth,\n      windowHeight,\n      triad,\n      transposition,\n      inversion,\n    } = this.state;\n    return (\n      <Container className=\"App\">\n        <Row>\n          <Col>\n            <Form>\n              <Form.Group className=\"mb-3\" controlId=\"transposeNumber\">\n                <Form.Label>Transpose by</Form.Label>\n                <span className=\"form-row\">\n                  <Form.Control \n                    type=\"number\"\n                    value={transposition}\n                    onChange={e => this.setState({transposition: e.target.value})}\n                  />\n                  <Button variant=\"primary\" type=\"button\" onClick={this.handleTranspose} className=\"pull-right\">\n                    Submit\n                  </Button>\n                </span>\n              </Form.Group>\n            </Form>\n          </Col>\n          <Col> \n            <Form>\n              <Form.Group className=\"mb-3\" controlId=\"inversionNumber\">\n                <Form.Label>Invert by</Form.Label>\n                <span className=\"form-row\">\n                  <Form.Control \n                    type=\"number\"\n                    value={inversion}\n                    onChange={e => this.setState({inversion: e.target.value})}\n                  />\n                  <Button variant=\"primary\" type=\"button\" onClick={this.handleInversion}>\n                    Submit\n                  </Button>\n                </span>\n              </Form.Group>\n            </Form>\n          </Col>\n        </Row>\n        <MusicalClock\n          windowWidth={windowWidth}\n          windowHeight={windowHeight}\n          triad={triad}\n        />\n      </Container>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './index.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}